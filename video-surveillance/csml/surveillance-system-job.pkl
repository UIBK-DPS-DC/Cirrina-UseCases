amends "https://raw.githubusercontent.com/elkoDev/Cirrina/feat-pkl/descriptions/JobDescription.pkl"

import "https://raw.githubusercontent.com/elkoDev/Cirrina/feat-pkl/descriptions/HttpServiceImplementationDescription.pkl"
import "surveillance-system.pkl" as surveillanceCSM

serviceImplementations {
    new HttpServiceImplementationDescription {
        name = "cameraCapture"
        cost = 1.0
        `local` = false
        scheme = "http"
        host = "localhost"
        port = 8001
        endPoint = "/capture"
        method = "POST"
    }
    new HttpServiceImplementationDescription {
        name = "alarmOn"
        cost = 1.0
        `local` = false
        scheme = "http"
        host = "localhost"
        port = 8001
        endPoint = "/alarm/on"
        method = "POST"
    }
    new HttpServiceImplementationDescription {
        name = "alarmOff"
        cost = 1.0
        `local` = false
        scheme = "http"
        host = "localhost"
        port = 8001
        endPoint = "/alarm/off"
        method = "POST"
    }
    new HttpServiceImplementationDescription {
        name = "detectPersons"
        cost = 1.0
        `local` = true
        scheme = "http"
        host = "localhost"
        port = 8002
        endPoint = "/detect"
        method = "POST"
    }
    new HttpServiceImplementationDescription {
        name = "analyze"
        cost = 1.0
        `local` = false
        scheme = "http"
        host = "localhost"
        port = 8003
        endPoint = "/analyze"
        method = "POST"
    }
}
collaborativeStateMachine = surveillanceCSM
stateMachineName = "detectorSM"
localData = new Mapping {
    ["foo"] = "bar"
}
bindEventInstanceIds = new Listing {}
runtimeName = "runtime"
